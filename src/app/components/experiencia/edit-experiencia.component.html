<app-header></app-header>
<div class="container shadow py-2" *ngIf="expLab">
    <div class="row mat-card seccion">
        <div class="cabecera">
            <h4 class="col-auto" id="perfil">Modificar Experiencia Laboral</h4>
        </div>
        <div class="items">
            <form (ngSubmit)="onUpdate()" novalidate #f="ngForm" class="row g-3" [formGroup]="form">
                <div class="form-group col-md-4">
                    <label for="descripcionE" class="form-label">Nombre del Puesto</label>
                    <input type="text" class="form-control" id="descripcionE" name="descripcionE" [(ngModel)]="expLab.descripcionE" maxlength="50" required
                    formControlName="descripcionE" [ngClass]="{
                        'is-invalid': DescripcionE?.errors && DescripcionE?.touched,
                        'is-valid': !DescripcionE?.errors && DescripcionE?.touched
                    }">
                    <div *ngIf="DescripcionE?.errors && DescripcionE?.touched">
                        <p *ngIf="DescripcionE?.hasError('required')" class="text-danger">
                            El campo no puede quedar vacío.
                        </p>
                    </div>
                </div> 
                <div class="form-group col-md-8">
                    <label for="tareas" class="form-label">Descripción del Puesto</label>
                    <input type="text" class="form-control" id="tareas" name="tareas" [(ngModel)]="expLab.tareas" maxlength="100" required
                    formControlName="tareas" [ngClass]="{
                        'is-invalid': Tareas?.errors && Tareas?.touched,
                        'is-valid': !Tareas?.errors && Tareas?.touched
                    }">
                    <div *ngIf="Tareas?.errors && Tareas?.touched">
                        <p *ngIf="Tareas?.hasError('required')" class="text-danger">
                            El campo no puede quedar vacío.
                        </p>
                    </div>
                </div> 
                <div class="form-group col-md-6">
                    <label for="nombreE" class="form-label">Nombre de Empresa</label>
                    <input type="text" class="form-control" id="nombreE" name="nombreE" [(ngModel)]="expLab.nombreE" maxlength="50" required
                    formControlName="nombreE" [ngClass]="{
                        'is-invalid': NombreE?.errors && NombreE?.touched,
                        'is-valid': !NombreE?.errors && NombreE?.touched
                    }">
                    <div *ngIf="NombreE?.errors && NombreE?.touched">
                        <p *ngIf="NombreE?.hasError('required')" class="text-danger">
                            El campo no puede quedar vacío.
                        </p>
                    </div>
                </div>
                <div class="form-group col-md-3">
                    <label for="desde" class="form-label">Período desde:</label>
                    <input type="month" class="form-control" id="desde" name="desde" [(ngModel)]="expLab.desde"  value="2016-02" required
                    formControlName="desde" [ngClass]="{
                        'is-invalid': Desde?.errors && Desde?.touched,
                        'is-valid': !Desde?.errors && Desde?.touched
                    }">
                    <div *ngIf="Desde?.errors && Desde?.touched">
                        <p *ngIf="Desde?.hasError('required')" class="text-danger">
                            El campo no puede quedar vacío.
                        </p>
                    </div>
                </div>
                <div class="form-group col-md-3">
                    <label for="hasta" class="form-label">Período hasta:</label>
                    <input type="month" class="form-control" id="hasta" name="hasta" [(ngModel)]="expLab.hasta" value="2016-02" required
                    formControlName="hasta" [ngClass]="{
                        'is-invalid': Hasta?.errors && Hasta?.touched,
                        'is-valid': !Hasta?.errors && Hasta?.touched
                    }">
                    <div *ngIf="Hasta?.errors && Hasta?.touched">
                        <p *ngIf="Hasta?.hasError('required')" class="text-danger">
                            El campo no puede quedar vacío.
                        </p>
                    </div>
                </div>

                <div class="form-group col-md-8">
                    <label for="imglogo" class="form-label">Logo de la Empresa</label>
                    <input type="file" class="form-control" id="imglogo" name="imglogo" accept=".jpg, .jpeg, .png" (change)="mostrarImagen($event)">
                </div>
                <div class="form-group col-md-4 mx-auto">
                    <div class="image-area mt-4">
                        <label for="imglogo" class="form-label"></label>
                        <img id="imglogo" [src]="imgUrl" *ngIf="imgUrl" alt="" width="200px" class="img-fluid rounded shadow-sm mx-auto d-block">
                    </div>
                </div>
                <div class="text-center">                
                    <button class="btn btn-primary" type="submit" [disabled]="f.invalid">
                        Modificar
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>
<app-footer></app-footer>
